RSpec.describe AdventOfCode::DayFifteen do
  let(:simple_input) do
    <<~TXT
      1163751742
      1381373672
      2136511328
      3694931569
      7463417111
      1319128137
      1359912421
      3125421639
      1293138521
      2311944581
    TXT
  end

  let(:full_input) do
    # My data
    <<~TXT
      2494188795949368426672935997553436999123973817111494977966298896479213563868828787114774871959993495
      7269295166912819128199218896192745233371189151296812199288995976199874739992471696989914173889976925
      5191212388827998986649912824634749279971948589689238817721846893532697679994545789897911889729995897
      2168589418228699841979496964487152857627622699771987389157912193827151789199146397936892984945186648
      6173939628157711976563997464999974959831921613389971361747448844585131388314689679172394799717331399
      5899695651247379821996866399919649874365217617874746871338598594867719518499554272189235565993897965
      7485394112785944858863361332818786294335182341788296167915326872949943697179245577456182671381554981
      9266892719919136231211827869936952321796769156938997799961743957799879299829979797999289996519698258
      7917921979835316979873649974359699969481697221634859899429669995158723957697928969198838877882679431
      1491236284143364659399923722198867919166499918548183212698729886479216469986191478946997662853172832
      3767398586846967844992213195183588959313371637243199793963993959286917791341794214391371939868871494
      9928742956264979397583828698198991474967144891939974212795669284197972936548635221944579878942359557
      2591296163233973188949425669798998818121787829476539915785989899996476991741928456884321481461491491
      9991453999117657667486988919926741998881973198189217569482699982656854861887538683949945599464996179
      7785121782479268191396996844959721953747843271399498791933669879859637175866291876796575659279993189
      7776716891792899824695392599338137499166496894838139256577699799459229235864327718998999599938889161
      5839791979939975731327544972918993669998884665789489989759759159981911739962619655578959489319651959
      9398937827918996618898187917114312218979818328154357119792473517498229889994917199791479298969989426
      9193149311416478995456723118877968917584864848296657785894974918318495982911493994794738911468372399
      9769827996996299982985113892343422898578915399986948881116926857688725599882867388823188133721994278
      8818187692494197511189732662739876774788519148132878987446213196194758987589658244842573992965369917
      9692985985717419377379789693788389987764679742169692881958792669418357791948997197357944583299997199
      1655589698936188425679138917313955276139596613919192843881592947255229449287767987981926864969859529
      9699242895916761696979961626847898651779897127819171988159298969595969856231117848529246839289723796
      6918899858935889816997979865999596479948574186514639447389189297279388214912422481934482758598686939
      9996124999974921628385339724671481964691768899569149945536398488739568172834846547989816384911492872
      8346834917676292979994979698956139979926678894814989654839981221562573298658346721681719173725669956
      7996658985879211759466921616176161867986927757827999273979469498688699982778999718998879599891187826
      6789987138357992752226589295829589178911828185979998763692162929329395765591169737899686919889788875
      7197637335578924955696669176672558865939999937795981568398933385959211553997726292683778819899973695
      7969119547891678248796699588889994968987939996198215675832711397499256187159534154919899797617918187
      6926911899812131895651119837176697797919392241689685965558165297919473987229989972939921478114978373
      5841994288699114592993125898675872864168987969699196889625973399229985914231352968138691482158881899
      6867891298189866894719212682879398889498489939663172817599835471792399556867597964989686389769859994
      9216183839556753967949862931537817787984781697457685114963135184139788699929447794287121297683798319
      5961184475118971259559817821178849966985528319614894877141814318889588689738389571282791915658998542
      7796517463682296191129934366199787898432878578178838999284446321338627649991196629939797121785891962
      6869179819567982969986839939999929197979374876888941369191219962943812332887931152176916191949337191
      9949555298548218159821548895199792894846453957998718924987391181922787245277994179172391848939291937
      9194554898149494418187494726757793324999959688688219769989897645955852991449724578587938397525559699
      9839395266191998228728197617917693697789375996118295993584569962144786399964589627981549488787733896
      8798892947496976899997799782965947775618684631612298893931561678929111719994767999284582998895629195
      5971923418391999545117998893871871449928897518896798992962997798871699831697768939889162189217948177
      5858919812839818645171731976975688955947178448898559483839791819932171192959869296448582448911965279
      1968371935371579114969391889167369857978852993227571182176195567113584591687978173852172998299297876
      9818595991179878228913865926959618915114684669669687682418328328426959971759423266149164699675299962
      7313169988896798377992637828717558819632818939589195963274459828798159996969414246778645986912959685
      7175987582985899179876194819674578385889199196894972994931968897971126896672969822346958482487693195
      3899899994999974339297695494999694587728925279418719657933319839559165236843874998959197285872898386
      9143179894278789613961188998997899879989984167462521348529727699979885411983992819969799931648899396
      8721719519784582186657994994597695787791988737117281949127388845793462485588977564523597916812662293
      8611192812559976315185196299139868529583964194698936966669193992848592369935883977685998128921958855
      9939897898864487468688938157636793892493993149941579971537776639995925839997995494499799341196996911
      8952975169934893855698711783493617877741259797391888882838674537287761499137286977596911311795914798
      5973819164498977729977283879968689716999899829329989552936969439956928519569699593711189175982816879
      8992169969711179987999697359795943869189334168512958869138486551393962896928198678797618959592667178
      5198893235999189515823758534932887297573118289138717189899951151794645128875863218397267732544682559
      1325921986621997358689228699823234199583753862125884477531428896914475773981149951219987772989777284
      1767578881144877899227864881927651792585225919996798399996398994171539489225941719236558689987289596
      1697693293932998829129311328298516993977484911198964347455679799762539363996979349779755395869958127
      3713898193499495896831949473519979859286519968829254986836974926445967798179318189714751879952896613
      9916216881218784598988194111975928978834317778788697936768819246855919484199948946983872997799989537
      5418692222281246379686836239999941778791771954439968621669899592193586891966947915978832988949879767
      5946329868375678638572651999898943139289184131912762798677877895898695944967941764178789929296788749
      6239775996391914149474397187426592989328499959996744188988177257137398164298656927588639947169611996
      7726974769124948598778698999782543243598997487367127713261541411788169989779736617197163837998429443
      6111148329281896798281927928447986973659988162159399599953814156215976289871288499437886599369129446
      5854951519241889185939295929639732174661849974497795351828153777386926499257888278938847986849719938
      5984221699399349924974897835513966246932291529259259986518919741383138819187699681468921932862191135
      7247744517283916799878894898841511684972958968888598899899528129686787319513181999663332357287917849
      9619575771852888429993998185894999449977654581892868719896632889994183982173959417945797894859792989
      9987887311965149698616929977895196273977999972615874679953263114467325584669891293619617955392613925
      3459233982935649168889415851457199862587819992969777358114793166474749199299992637999874364191376899
      7943688928864588361988811191325483948768896478821434855799291838959158636199538793219669994353374759
      7859289672994646496294159151719934379268389791695698878689997723696963668819627473895291179249595592
      9941314869878731534751835338688822211841761128799388619893279239832929889693971299176198322989988696
      8842227781495829982998213979935669336595995299977597191369528699162399363739696583936699198339998297
      4713836572615268829578998379651451979528877965188284221548263244343828575977462755943999496539416928
      8997969648694117619993817848699798391349937895138998191853188328148899863968896951342872529854299799
      4821998179179181915669967943833899175819993535997526988947429178781551978844594192169998492291957896
      4195189588992241478996816697172978669351926159581981999991898899275537372449313988179685677999419998
      7562897828594989799593999721399698168294159217347891591919627938573198351476731278382919975715726691
      5289289886391592468511382946949159281295428969892859956998441988997291849472619345291529291989934296
      2119968215975689967875154978999999387426829368331479442781739197214991219186498848963987197926389319
      2619398714969892292337865366952999489167916889966465489596798298768869549286862389939419119395283486
      5891141991985484321796885478397617796913878991923119711484499287684339488268919291995478738911979334
      8114983942818278171367398195885616828459999126819995888739198519259919986496918279919325994993862348
      9799778199299926255679191711375949221688768118898797284688592829217988489896761335847548468981782899
      3297828241798981838196692979721897463899191684523229918888914388941777196891967689798993724124799799
      6587642855381998719928875658181669971111961763447368283978979892939694984843414921587564196767985264
      8868499779173993666956935631879522347992698928849354893756692376863389161268189398695789183996886289
      4384313399189397465391981199547955659912476999789237991829967965898994592593315769962549121389114869
      3165989928816884816238178158923873189899685775749877366272667891986999279928649289915951524688386419
      2614193692887593891959411118711929833726848873925563723329796828281367982397811129881655482798978846
      8547195678964249376891881397319282899129476666886297539869668898819828797769638991899886419148826859
      8178778491299194939588873989868848883795996377199995921984895879486959879816117891527867619711458789
      2358691498849138995117937966497995947487954198989213589121699888997868911988859219584998799742529591
      4564249477614979424868747948799188548777892792598985751974975274769994898988419988258297291881465592
      9297979945165922849989776118448916916471698458557921916479112985169284661994778819637195998913985273
      4789996397188799369699683969576838983199839289799579353875318987692211979981993139884198857448759796
    TXT
  end

  let(:alex_data) do
    # Alex's data:
    <<~TXT
      9288988799169797672494749255119669898996573999583986189239999598984799822348965745856766795499834649
      9336897879889887886178547878932383343897969375528317888596414912984889899896681582897852799987698919
      1897778869898975348195967299799218929299986987238888983439837668176288929486984281998883997689928399
      9929379596989975588919354989848824879259338981764649316939699414591798996277899778297863349896687529
      9299536973198975989668639599981992969988798261739729688719716614897359549861961677579672523167986511
      7987961623297525864967191899298165876452579892878669981979557529983329311935283984796198899331498766
      9933188395912993489929878928979164799949214314685899999949959978164816779811128692799288826655771954
      9879411158118811985997999759791869896995299827179998882766687888891885997982991692167933582892854156
      9998631525957988118287969721874572682352527971791899771898918585995689953667683999169491381879997972
      9148272678595823589879662996981998894898844679741994169298499959867934999532187299167299186241998292
      8967886285928969877498814378999894469497368728914983178727691699718399654813956289713487981828996297
      2999393515291995229979897899399596921679288483969795189979696985897255988985689416376934128997218299
      7817696897253996999651997969929981349899123948992659879897887667199775989882958778899293892998989276
      9638635592568249933748715589514111329963291898199473693991698996362848147964599284195681914957329467
      4958169729641951781983588759859969499895795879488199984497178298368899238979649719927899818641998489
      9975869369989998759115433978632495978793749977511549989984223394977735997142889411977899995898137993
      9459965977995489288474399895689998695961956993692699421769614323193479393955974793991182999979389958
      8994981918488815875941366194919798679996477924993929237972119998926286352895291999868513555622933869
      9978788955499954429538318136599937492729898626382799896379749839156697643991476929999443913972759281
      9789326441993961917529769129211514818927459529999665126819834992573899989577699452197919499789111899
      5645266999796592329963869997412285981628471859718122319982899417968932949924886989359739949384198886
      4151433899456957966682999728989743799492988668799291189825989779923276699886797988429994794438971668
      7192698711984233938996888119995889991972929159599994289919539966249787249972571194978959978992687611
      2188999661989826988581693997894588683797868679171937998388999529486952918189269993969428519963791967
      9861892485895498492212599425976855994975985912626678899459997129997798893717498885748998996987987997
      6362488549459179788479968499975364362547921271989899979997419937987319622952986237496986284699314297
      5497988785661358759985368549985499987879978818164923953194687168865459988799882727999431919418957792
      8921689612499495196716939839129969948877994484939159896618549595749671852996979999898289792879849397
      9117892818987897191767559599815947974867469568839917771471898394159117985171699936812298616598548579
      9499687172935737495154289999572674963694459699667979694997258367529924396919185817635144899393296999
      9359917393876189496794996228496429878984488199998998519969886192894999822998691883882855832938745789
      5991899864977697724629999715775227413957489939767875967492379866938689479737899737238139929793229691
      8773773941114912996998195388691327897589927937565864699875956954763217688963799581693978929456769918
      3789413727298922758699481168799996951192669889822813961131496997515599269239941498598558992664989219
      6593995867928869718437459956978746861975998936541855894996991791844649276462868699996942599192789759
      1993341135872935287172387257312453769899771419861468869997994169176169949614122255777814279818269918
      2969135998691189572857989199653891178966992543799975499874487811962496191967999489743499839598884687
      9787789572211797194337999256191563897691817781945298867986284396979988791729938633187393569589869918
      2299959163318689978729376684584292391777894958897598287996132978169997894991998998599977549738278923
      3691949798949888798168941149915567331911818129929718518938167387689939299824771197638987817379892989
      9749785619856999652449487875688981561193591826594362649994939666967979778512799696341955711919984978
      9881927664728581359934177289639895786194274231975664274195899997999687929598893691365837899273425129
      9919419886679822926611867726862553187195651759289168197679985899689947964717915885111276899888197966
      9231598837249477616689995515695824792669591942461898459897688991749911988958996929699359978565275725
      2892658244889159188897479599898949898749977971288388998787787997948558944985976998979898962172685897
      9979588759684339829796553677828895958589919229599989589392589747761568985977998861579949161187997233
      6287215915683729958932894699999247639399978989597899848299991995847221899992518166862818775179559971
      2799894917998999998874784789594789858417957771571473748859999329599135947687373576896989993589961874
      5921848262785779887771299979768834439798859747883569786946978457756498658975779671982998713657998999
      9997786782929186285839956198479977866697199917635186717999819821816856594838498858245992265954264934
      9954997215627599265929978387691134766992481123697456499693917895998289479717119612991968988158439691
      9916272332984989918199969936999599699155379896778714667674586619938853681649448451872845859999239829
      1256399471117548567985989955892899689887699697686297558119846998699918385686487875399995279928741588
      7177168446299683823212949816929791389289577545289534897191769788823948882469977935993994579671821187
      6979892421886929946739955799883719139893871273491387787287522865999759437718571283535249569138967648
      4145997935994642989996771886889569927531998999268917912388818819496782276477165999995719866649747764
      8898899748735667899752999477989593963868993879144929617748885292969974337666618879885768988931287698
      9196988991448764896467189989479747838137156849499359959399476958168494834619648549898691614999879739
      7925876418947885867316298842933587498796372993949569174199698294898468184868798782855986566997769253
      5999995536941691894699798926989158981998299942565537791869569799989677238748115794415979948626971297
      8896561829785751826769983485679999991699195576827934937515391627992938198466316849988998981931463975
      1678992985845917991999559999398498659179639589116974399879277638914599511895856993791955948698936769
      8723555973519986597726497991769996916871959668366828894199899193915299198488937535299891992439299937
      9859879779999559469859989149991235571476226458448738485449684831869569129983688918615773979995919197
      1762274915495299837161988958831218291579987895596819387889529513259546684889197517888399895193724779
      2329987489878172595959982221592989791917892847896794565689456987698924854979316862189958639879898937
      7711657684176742515913464892986549152966165389597999969269518687598991498112999894982942789276718458
      9989179928937989827799268436844255995598521878597942899959459198973751659286887993912795839916999399
      4567145965886799947748995493953341996258925919999689739976496999948828257798971787719678969851996746
      8553979659889688912787934849749991288998219549994188353936124999195218388671689915579964878413489665
      2458758981536446277157958999192653841815897922998795986691787998661699134582798739519913786926595735
      9233467899499484399916213919898118589935927969443759859978699389889676999696349897998592979919998299
      1621957847935871765819681398937934599688352958522142283796985527189865829779968678199997198567691768
      9673864188986737727887346587481936992239789665514689835781751549838861996989972756948968698623688959
      7897146188799288444495998299966977488868899799997994924917119827858775911816351681497482299111997691
      2568718799789199779398689847783149889479969577949265239141878557193889688765334449955197999914987965
      6939937695943799169928279532995937199758313658599658967819433777451979789913959439926566929189199369
      5999854888947964889779299422517269958222959149218639862111399697889988998988495479874922759149779792
      8898165192853343774932725119999895929144898798828668998787399878577998661677495889352267795135479958
      9578193578475986498984689899679398178897882619949696877398898259198963869894573999782235189917995779
      9614779614699666248931887454849181959988389121797844916823925964183788999781794279997178499292189339
      7154633697899892718176319474169673818225779991699839667193959375999134917851861694489619849782799983
      7616913966129714997489291681867995117771128927779449285994725191838843376673798698999374745869928979
      9818776583846956356779687821191959633714565781299649977899949519971939492224983479969178589787741359
      8699924979993138798977989952516599159628999129974189852977567885894191476728992769469629699859245899
      9913371369899982359888716676984987479626245958159698436779975279878971677837387679871384371297934939
      8599771948779192996924339399766946995298899149959179412988741928283199591227819893228869673194965697
      8489944889371697897296993939299713849254969988799792753882795824818789664812129936966999988791751921
      6976789988678861958199499445892799332971227632999989936177688529771589699899882978971429758899779998
      5968497692829128995138725999979828117911719698428448259968286871278658929934846599584982263818912698
      8958452959267676424741399686862372997728797445179742993896977988979989612483887199299999714618977759
      4999382992857889814779859518559958458978116999689569869899929626199925858874989715889286699966189192
      6821852498859387994787881789359711946699741427195989164226682888818389599911297889796498646148759263
      9985999614831878291177496865999896852915236956397629682728379999748678194954611317891917837599992421
      1898728946843198193289979889889991686685685399948883227849222754865945897392179762979369894261974859
      8239479653435399988579899419849928235496516187895769626582993984392699899597869988769889562986328589
      2749999498518999696779743457991992199779379529978126229362411788511691877869319879963998164177714684
      5499969865189779991198556392918514799593899919672411987351966179399942999818128941959596331883477879
      4719866799939881495699681785999974276299998443822677143998839821795639964258984499989679929197977689
      6994796719999998996693827884457853594797687747694968116959893999957898943799975585881539179956768118
    TXT
  end

  describe "#part_one" do
    context "with simple input" do
      it "works" do
        expect(described_class.for(input: StringIO.new(simple_input)).part_one).to eq(40)
      end
    end

    context "with alex input" do
      it "works" do
        expect(described_class.for(input: StringIO.new(alex_data)).part_one).to eq(748)
      end
    end

    context "with full input" do
      it "works" do
        expect(described_class.for(input: StringIO.new(full_input)).part_one).to eq(673)
      end
    end
  end

  describe "#part_two" do
    context "with simple input" do
      it "works" do
        expect(described_class.for(input: StringIO.new(simple_input)).part_two).to eq(315)
      end
    end

    context "with alex input" do
      fit "works" do
        expect(described_class.for(input: StringIO.new(alex_data)).part_two).to eq(3045)
      end
    end

    context "with full input" do
      xit "works" do
        expect(described_class.for(input: StringIO.new(full_input)).part_two).to eq(42)
      end
    end
  end
end
